# Задание по разработке API

## Микросервис для работы с балансом пользователей

**Проблема:**

В компании есть много различных микросервисов. Многие из них так или иначе хотят взаимодействовать с балансом пользователя. На архитектурном комитете приняли решение централизовать работу с балансом пользователя в отдельный сервис. 

**Задача:**

Необходимо реализовать микросервис для работы с балансом пользователей (зачисление средств, метод получения баланса пользователя, метод покупки товара/услуги). Сервис должен предоставлять HTTP API и принимать/отдавать запросы/ответы в формате JSON.

**Требования к сервису:**

1. Сервис должен предоставлять HTTP API с форматом JSON как при отправке запроса, так и при получении результата.
2. Язык разработки: C#.
3. Фреймворки и библиотеки можно использовать любые.
4. Реляционная СУБД: MSSQL.
5. Если есть потребность в асинхронных сценариях, то использование любых систем очередей - допускается.
6. При возникновении оставляем принятие решения за разработчиком.
7. Разработка интерфейса в браузере НЕ ТРЕБУЕТСЯ. Взаимодействие с API предполагается посредством запросов из кода другого сервиса. Для тестирования можно использовать любой удобный инструмент. Например: в терминале через curl или Postman.

**Будет плюсом:**

1. Swagger файл для вашего API.

**Основное задание (минимум):**

Метод начисления средств на баланс. Принимает id пользователя и сколько средств зачислить.
Метод получения баланса пользователя. Принимает id пользователя.
Метод покупки товара/услуги. Принимает id пользователя и id услуги.

**Детали по заданию:**

1. По умолчанию сервис не содержит в себе никаких данных о балансах (пустая табличка в БД). Данные о балансе появляются при первом зачислении денег. 
2. Валидацию данных и обработку ошибок оставляем на усмотрение кандидата. 
3. Баланс пользователя - очень важные данные в которых недопустимы ошибки (фактически мы работаем тут с реальными деньгами). Необходимо всегда держать баланс в актуальном состоянии и не допускать ситуаций когда баланс может уйти в минус. 
